<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documentation - Cr√©ateur de Routine</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
    />
  </head>
  <body class="bg-light">
    <div class="container py-5">
      <header class="text-center mb-5">
        <h1 class="display-4">Rapport - Cr√©ateur de Routine Quotidienne</h1>
        <p class="lead">Documentation compl√®te de la web app</p>
      </header>

      <div class="row">
        <div class="col-lg-10 offset-lg-1">
          <section id="vue-ensemble" class="mb-5">
            <h2>Vue d'ensemble</h2>
            <p>
              Cette web application permet √† l'utilisateur de cr√©er une routine
              quotidienne personnalis√©e en utilisant un ensemble de phrases
              japonaises pr√©organis√©es. Les fonctionnalit√©s incluent la
              recherche par mot-cl√©, l'ajout de t√¢ches horaires, le basculement
              multilingue, et la persistance locale.
            </p>
            <h3>Objectif</h3>
            <ul>
              <li>
                Organiser des routines journali√®res (restrictions 00:00 √† 23:59,
                uniquement pour le jour actuel).
              </li>
              <li>
                Utiliser des phrases japonaises structur√©es par p√©riodes
                (matin√©e, apr√®s-midi, soir√©e, nuit) et th√®mes (nourriture,
                transport, etc.).
              </li>
              <li>
                Faciliter l'apprentissage des langues via des traductions
                multilingues (Fran√ßais, Anglais, Malagasy).
              </li>
            </ul>
          </section>

          <section id="structure" class="mb-5">
            <h2>Structure des fichiers et dossiers</h2>
            <pre><code>assets/japonais/routine/
‚îú‚îÄ‚îÄ index.html                  # Page principale HTML
‚îú‚îÄ‚îÄ script.js                   # Logique JavaScript
‚îú‚îÄ‚îÄ style.css                   # Styles CSS personnalis√©s
‚îú‚îÄ‚îÄ documentation.html          # Ce rapport
‚îú‚îÄ‚îÄ matin√©e.json                # Phrases du matin
‚îú‚îÄ‚îÄ apr√®s-midi.json             # Phrases de l'apr√®s-midi
‚îú‚îÄ‚îÄ soir√©e.json                 # Phrases du soir
‚îú‚îÄ‚îÄ nuit.json                   # Phrases de la nuit
‚îú‚îÄ‚îÄ index.json                  # M√©tadonn√©es et index g√©n√©ral
‚îú‚îÄ‚îÄ themes/                     # Sous-dossier th√©matique
‚îÇ   ‚îú‚îÄ‚îÄ nourriture.json         # Phrases alimentaire
‚îÇ   ‚îú‚îÄ‚îÄ transport.json          # Phrases de transport
‚îÇ   ‚îú‚îÄ‚îÄ lieux.json              # Phrases sur les lieux
‚îÇ   ‚îú‚îÄ‚îÄ expressions.json        # Expressions diverses
‚îÇ   ‚îî‚îÄ‚îÄ grammaire.json          # Exemples grammaticaux
‚îú‚îÄ‚îÄ remove_kanji.py             # Script Python pour nettoyage (historique)
‚îú‚îÄ‚îÄ add_japonais.py             # Script Python pour ajout (historique)
‚îî‚îÄ‚îÄ clean_json.py               # Script Python pour nettoyage cl√©s (historique)</code></pre>
          </section>

          <section id="donnees" class="mb-5">
            <h2>Donn√©es</h2>
            <h3>Format JSON</h3>
            <p>Chaque phrase est un objet JSON avec cl√©s :</p>
            <ul>
              <li><code>japonais</code> : Texte en kanjis japonaises.</li>
              <li><code>francais</code> : Traduction fran√ßaise.</li>
              <li><code>anglais</code> : Traduction anglaise.</li>
              <li><code>malagasy</code> : Traduction malgache.</li>
              <li><code>transcription</code> : Romanji (prononciation).</li>
            </ul>
            <h3>Organisation</h3>
            <ul>
              <li>
                <strong>Routine temporelle</strong> : matinee.json,
                apres-midi.json, soiree.json, nuit.json
              </li>
              <li>
                <strong>Th√©matique</strong> : themes/ pour acc√®s par cat√©gories.
              </li>
              <li>
                <strong>Index</strong> : index.json r√©capitule m√©tadonn√©es et
                statistiques.
              </li>
              <li>
                <strong>D√©doublement</strong> : Phrases uniques charg√©es via
                d√©duplication par cl√© fran√ßaise.
              </li>
            </ul>
          </section>

          <section id="fonctionnalites" class="mb-5">
            <h2>Fonctionnalit√©s principales</h2>
            <h3>1. Recherche et s√©lection</h3>
            <ul>
              <li>
                <strong>Champs</strong> : S√©lecteur de langue + input mot-cl√©.
              </li>
              <li>
                <strong>Filtrage</strong> : Suggestion 5 phrases max contenant
                le mot-cl√© dans la langue choisie.
              </li>
              <li>
                <strong>S√©lection</strong> : Clic sur suggestion remplit
                automatiquement.
              </li>
            </ul>
            <h3>2. Ajout de t√¢ches</h3>
            <ul>
              <li><strong>Heure</strong> : Input HTML5 time pour HH:MM.</li>
              <li>
                <strong>Validation</strong> : Alerte si heure ou phrase
                manquante.
              </li>
              <li>
                <strong>Sauvegarde</strong> : Stockage en localStorage, tri
                automatique par heure.
              </li>
            </ul>
            <h3>3. Affichage routine</h3>
            <ul>
              <li>
                <strong>Liste tri√©e</strong> : Affichage heure croissante.
              </li>
              <li>
                <strong>Basculement langue</strong> : Boutons drapeaux (üáØüáµ pour
                J avec transcription, üá´üá∑, üá¨üáß, üá≤üá¨).
              </li>
              <li><strong>Suppression</strong> : Bouton trash par t√¢che.</li>
            </ul>
            <h3>4. Persistance</h3>
            <ul>
              <li>
                <strong>localStorage</strong> : Donn√©es sauvegard√©es
                automatiquement sur refresh.
              </li>
              <li>
                <strong>Date dynamique</strong> : Affiche toujours la date
                d'aujourd'hui.
              </li>
            </ul>
          </section>

          <section id="dependances" class="mb-5">
            <h2>D√©pendances et imports</h2>
            <h3>External CDNs</h3>
            <ul>
              <li>
                <strong>Bootstrap 5.3.0</strong> : UI framework pour cards,
                forms, buttons.
              </li>
              <li>
                <strong>Font Awesome 6.4.0</strong> : Ic√¥nes (trash pour
                supprimer).
              </li>
              <li>Pas de backend.</li>
            </ul>
            <h3>Modules JavaScript</h3>
            <ul>
              <li>
                <strong>ES6+ features</strong> : async/await, fetch,
                localStorage, template literals.
              </li>
              <li>
                <strong>API Browser</strong> : Date.toLocaleDateString, fetch
                pour JSON.
              </li>
            </ul>
            <h3>Python (scripts interm√©diaires)</h3>
            <ul>
              <li>
                Utilis√©s pour traitements batchs (nettoyage JSON), pas runtime.
              </li>
            </ul>
          </section>

          <section id="algorithme" class="mb-5">
            <h2>Algorithme - Fonctionnement √©tape par √©tape (pseudocode g√©n√©rique)</h2>
            <h3>Chargement des phrases</h3>
            <ol>
              <li>√Ä l'initialisation de l'application :</li>
              <li>Afficher la date actuelle du jour.</li>
              <li>Appeler la fonction charger_phrases() de mani√®re asynchrone.</li>
              <li>Dans charger_phrases() :</li>
              <li>Cr√©er une liste fichiers = ["matinee.json", "apres-midi.json", ...]</li>
              <li>Pour chaque fichier dans fichiers :</li>
              <ul>
                <li>T√©l√©charger le contenu du fichier JSON.</li>
                <li>Analyser le contenu en liste d'objets phrase.</li>
                <li>Ajouter toutes ces phrases √† la liste globale phrases_toutes.</li>
              </ul>
              <li>Cr√©er une liste phrases_uniques et une collection vraie/faux vue.</li>
              <li>Pour chaque phrase dans phrases_toutes :</li>
              <ul>
                <li>cl√© = phrase.francais</li>
                <li>Si cle n'est pas dans vue :</li>
                <ul>
                  <li>Ajouter cle √† vue</li>
                  <li>Ajouter phrase √† phrases_uniques</li>
                </ul>
              </ul>
              <li>Retourner phrases_uniques</li>
            </ol>
            <h3>Recherche et s√©lection</h3>
            <ul>
              <li>Lorsque l'utilisateur saisit dans champ_mot :</li>
              <li>Si longueur(mot) > 0 :</li>
              <li>resultats = filtrer phrases_toutes o√π champ_langue.includes(mot), prendre 5 premiers</li>
              <li>G√©n√©rer suggestions pour chaque, avec clic qui s√©lectionne la phrase</li>
              <li>Lors de s√©lection :</li>
              <li>phrase_choisie = la phrase</li>
              <li>Vider les suggestions</li>
            </ul>
            <h3>Ajout de t√¢che</h3>
            <ul>
              <li>Lors de clic bouton_ajouter :</li>
              <li>heure = champ_heure.valeur, langue = choix_langue</li>
              <li>Si heure est vide ou phrase_choisie est vide :</li>
              <li>Afficher message erreur</li>
              <li>Retour</li>
              <li>C'est notre</li>
              <li>routine = charger depuis stockage_persistant("routine_journaliere") ou nouvelle liste</li>
              <li>Ajouter objet {heure, phrase: phrase_choisie, langue} √† routine</li>
              <li>Trier routine par heure croissante</li>
              <li>Sauvegarder routine dans stockage_persistant</li>
              <li>Recharger affichage routine</li>
              <li>R√©initialiser formulaire</li>
            </ul>
            <h3>Affichage routine</h3>
            <ul>
              <li>Procedure recharger_affichage :</li>
              <li>routine = charger depuis stockage_persistant</li>
              <li>Vider liste_affichage</li>
              <li>Pour chaque √©l√©ment dans routine :</li>
              <ul>
                <li>Cr√©er entr√©e avec heure + phrase[choix_langue] + boutons basculement</li>
              </ul>
            </ul>
            <h3>Basculement langue</h3>
            <ul>
              <li>Lors de clic bouton_langue(id, nouvelle_langue) :</li>
              <li>routine = charger</li>
              <li>trouver √©l√©ment o√π heure_normalisee == id</li>
              <li>texte = element.phrase[nouvelle_langue]</li>
              <li>Si nouvelle_langue == "japonais" :</li>
              <li>texte = texte + " (" + element.phrase.transcription + ")"</li>
              <li>Afficher texte dans affichage</li>
            </ul>
            <h3>Suppression</h3>
            <ul>
              <li>Lors de clic bouton_suppr(heure) :</li>
              <li>routine = charger</li>
              <li>Enlever √©l√©ments o√π != heure</li>
              <li>Sauvegarder</li>
              <li>Recharger affichage</li>
            </ul>
          </section>

          <section id="impl√©mentation" class="mb-5">
            <h2>Impl√©mentation technique</h2>
            <h3>script.js</h3>
            <ul>
              <li>
                <code>loadPhrases()</code> : Async fetch de tous JSONs, concat
                et d√©dupl.
              </li>
              <li>
                <code>selectPhrase()</code>, <code>addTask()</code> : Gestion
                √©v√©nements.
              </li>
              <li><code>loadRoutine()</code> : Rendu liste tri√©e.</li>
              <li>
                <code>switchLang()</code> : Bascule phrases avec transcription
                pour J.
              </li>
              <li><code>removeTask()</code> : Suppression et r√©affichage.</li>
            </ul>
            <h3>index.html</h3>
            <ul>
              <li>Formulaire Bootstrap pour inputs.</li>
              <li>Cards pour sections UI.</li>
              <li>Emojis + Font Awesome pour ic√¥nes.</li>
            </ul>
            <h3>style.css</h3>
            <ul>
              <li>Gradients et √©l√©ments custom pour design.</li>
            </ul>
          </section>

          <section id="d√©ploiement" class="mb-5">
            <h2>D√©ploiement et utilisation</h2>
            <ol>
              <li>
                Placer le dossier <code>routine/</code> sur serveur web (Apache,
                Nginx, VS Code Live Server).
              </li>
              <li>Ouvrir <code>index.html</code> dans browser moderne.</li>
              <li>Autoriser localStorage pour persistance.</li>
            </ol>
            <h3>Limitations</h3>
            <ul>
              <li>
                Hors ligne : OK si serveurs down, mais localStorage gard√©.
              </li>
              <li>Console errors : Bootstrap warnings ignorables.</li>
            </ul>
          </section>

          <section id="evolution" class="mb-5">
            <h2>√âvolution future</h2>
            <ul>
              <li>Optimisations : Cache phrases pour performance.</li>
              <li>Personnalisation : Th√®mes UI, export routine.</li>
            </ul>
          </section>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
  </body>
</html>
